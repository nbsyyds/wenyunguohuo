{"remainingRequest":"D:\\javaProject\\litemall-master\\litemall-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\javaProject\\litemall-master\\litemall-admin\\src\\views\\mall\\order.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\javaProject\\litemall-master\\litemall-admin\\src\\views\\mall\\order.vue","mtime":1703663872000},{"path":"D:\\javaProject\\litemall-master\\litemall-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\javaProject\\litemall-master\\litemall-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\javaProject\\litemall-master\\litemall-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\javaProject\\litemall-master\\litemall-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRldGFpbE9yZGVyLCBsaXN0T3JkZXIsIGxpc3RDaGFubmVsLCByZWZ1bmRPcmRlciwgcGF5T3JkZXIsIGRlbGV0ZU9yZGVyLCBzaGlwT3JkZXIgfSBmcm9tICdAL2FwaS9vcmRlcicKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnQC9jb21wb25lbnRzL1BhZ2luYXRpb24nIC8vIFNlY29uZGFyeSBwYWNrYWdlIGJhc2VkIG9uIGVsLXBhZ2luYXRpb24KaW1wb3J0IGNoZWNrUGVybWlzc2lvbiBmcm9tICdAL3V0aWxzL3Blcm1pc3Npb24nIC8vIOadg+mZkOWIpOaWreWHveaVsAoKY29uc3Qgc3RhdHVzTWFwID0gewogIDEwMTogJ+acquS7mOasvicsCiAgMTAyOiAn55So5oi35Y+W5raIJywKICAxMDM6ICfns7vnu5/lj5bmtognLAogIDIwMTogJ+W3suS7mOasvicsCiAgMjAyOiAn55Sz6K+36YCA5qy+JywKICAyMDM6ICflt7LpgIDmrL4nLAogIDMwMTogJ+W3suWPkei0pycsCiAgNDAxOiAn55So5oi35pS26LSnJywKICA0MDI6ICfns7vnu5/mlLbotKcnCn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnT3JkZXInLAogIGNvbXBvbmVudHM6IHsgUGFnaW5hdGlvbiB9LAogIGZpbHRlcnM6IHsKICAgIG9yZGVyU3RhdHVzRmlsdGVyKHN0YXR1cykgewogICAgICByZXR1cm4gc3RhdHVzTWFwW3N0YXR1c10KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBbXSwKICAgICAgdG90YWw6IDAsCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICBsaXN0UXVlcnk6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAyMCwKICAgICAgICBuaWNrbmFtZTogdW5kZWZpbmVkLAogICAgICAgIGNvbnNpZ25lZTogdW5kZWZpbmVkLAogICAgICAgIG9yZGVyU246IHVuZGVmaW5lZCwKICAgICAgICB0aW1lQXJyYXk6IFtdLAogICAgICAgIG9yZGVyU3RhdHVzQXJyYXk6IFtdLAogICAgICAgIHNvcnQ6ICdhZGRfdGltZScsCiAgICAgICAgb3JkZXI6ICdkZXNjJwogICAgICB9LAogICAgICBwaWNrZXJPcHRpb25zOiB7CiAgICAgICAgc2hvcnRjdXRzOiBbewogICAgICAgICAgdGV4dDogJ+acgOi/keS4gOWRqCcsCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKQogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA3KQogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pCiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgdGV4dDogJ+acgOi/keS4gOS4quaciCcsCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKQogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiAzMCkKICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKQogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6ICfmnIDov5HkuInkuKrmnIgnLAogICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKQogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogOTApCiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSkKICAgICAgICAgIH0KICAgICAgICB9XQogICAgICB9LAogICAgICBzdGF0dXNNYXAsCiAgICAgIG9yZGVyRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIG9yZGVyRGV0YWlsOiB7CiAgICAgICAgb3JkZXI6IHt9LAogICAgICAgIHVzZXI6IHt9LAogICAgICAgIG9yZGVyR29vZHM6IFtdCiAgICAgIH0sCiAgICAgIHNoaXBGb3JtOiB7CiAgICAgICAgb3JkZXJJZDogdW5kZWZpbmVkLAogICAgICAgIHNoaXBDaGFubmVsOiB1bmRlZmluZWQsCiAgICAgICAgc2hpcFNuOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgc2hpcERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBwYXlGb3JtOiB7CiAgICAgICAgb3JkZXJJZDogdW5kZWZpbmVkLAogICAgICAgIG9yZGVyU246ICcnLAogICAgICAgIG9sZE1vbmV5OiAwLAogICAgICAgIG5ld01vbmV5OiAwLAogICAgICAgIGdvb2RzTGlzdDogW10KICAgICAgfSwKICAgICAgcGF5RGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHJlZnVuZEZvcm06IHsKICAgICAgICBvcmRlcklkOiB1bmRlZmluZWQsCiAgICAgICAgcmVmdW5kTW9uZXk6IHVuZGVmaW5lZAogICAgICB9LAogICAgICByZWZ1bmREaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZG93bmxvYWRMb2FkaW5nOiBmYWxzZSwKICAgICAgY2hhbm5lbHM6IFtdCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCkKICAgIHRoaXMuZ2V0Q2hhbm5lbCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja1Blcm1pc3Npb24sCiAgICBnZXRMaXN0KCkgewogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZQogICAgICBpZiAodGhpcy5saXN0UXVlcnkudGltZUFycmF5ICYmIHRoaXMubGlzdFF1ZXJ5LnRpbWVBcnJheS5sZW5ndGggPT09IDIpIHsKICAgICAgICB0aGlzLmxpc3RRdWVyeS5zdGFydCA9IHRoaXMubGlzdFF1ZXJ5LnRpbWVBcnJheVswXQogICAgICAgIHRoaXMubGlzdFF1ZXJ5LmVuZCA9IHRoaXMubGlzdFF1ZXJ5LnRpbWVBcnJheVsxXQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubGlzdFF1ZXJ5LnN0YXJ0ID0gbnVsbAogICAgICAgIHRoaXMubGlzdFF1ZXJ5LmVuZCA9IG51bGwKICAgICAgfQogICAgICBpZiAodGhpcy5saXN0UXVlcnkub3JkZXJJZCkgewogICAgICAgIGRldGFpbE9yZGVyKHRoaXMubGlzdFF1ZXJ5Lm9yZGVySWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5saXN0ID0gW10KICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEub3JkZXIpIHsKICAgICAgICAgICAgdGhpcy5saXN0LnB1c2gocmVzcG9uc2UuZGF0YS5kYXRhLm9yZGVyKQogICAgICAgICAgICB0aGlzLnRvdGFsID0gMQogICAgICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmxpc3QgPSBbXQogICAgICAgICAgdGhpcy50b3RhbCA9IDAKICAgICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGlzdE9yZGVyKHRoaXMubGlzdFF1ZXJ5KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5saXN0CiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS5kYXRhLnRvdGFsCiAgICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UKICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmxpc3QgPSBbXQogICAgICAgICAgdGhpcy50b3RhbCA9IDAKICAgICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICBnZXRDaGFubmVsKCkgewogICAgICBsaXN0Q2hhbm5lbCgpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuY2hhbm5lbHMgPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVGaWx0ZXIoKSB7CiAgICAgIHRoaXMubGlzdFF1ZXJ5LnBhZ2UgPSAxCiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgaGFuZGxlRGV0YWlsKHJvdykgewogICAgICBkZXRhaWxPcmRlcihyb3cuaWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMub3JkZXJEZXRhaWwgPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgfSkKICAgICAgdGhpcy5vcmRlckRpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICB9LAogICAgaGFuZGxlUGF5KHJvdykgewogICAgICB0aGlzLnBheUZvcm0ub3JkZXJJZCA9IHJvdy5pZAogICAgICB0aGlzLnBheUZvcm0ub3JkZXJTbiA9IHJvdy5vcmRlclNuCiAgICAgIHRoaXMucGF5Rm9ybS5vbGRNb25leSA9IHJvdy5hY3R1YWxQcmljZQogICAgICB0aGlzLnBheUZvcm0ubmV3TW9uZXkgPSByb3cuYWN0dWFsUHJpY2UKICAgICAgdGhpcy5wYXlGb3JtLmdvb2RzTGlzdCA9IHJvdy5nb29kc1ZvTGlzdAogICAgICB0aGlzLnBheUZvcm0uZ29vZHNMaXN0LmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgZWxlbWVudC5vbnVtYmVyID0gZWxlbWVudC5udW1iZXIKICAgICAgfSkKICAgICAgdGhpcy5wYXlEaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIGNvbmZpcm1QYXkoKSB7CiAgICAgIGlmICh0aGlzLnBheUZvcm0ub2xkTW9uZXkgIT09IHRoaXMucGF5Rm9ybS5uZXdNb25leSkgewogICAgICAgIGNvbnN0IGRpZmYgPSB0aGlzLnBheUZvcm0ubmV3TW9uZXkgLSB0aGlzLnBheUZvcm0ub2xkTW9uZXkKICAgICAgICB0aGlzLiRjb25maXJtKCflt67pop0gJyArIGRpZmYgKyAn5YWD77yMIOaYr+WQpuehruiupOaPkOS6pCcpCiAgICAgICAgICAudGhlbihfID0+IHsKICAgICAgICAgICAgdGhpcy5jb25maXJtUGF5MigpCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKF8gPT4ge30pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb25maXJtUGF5MigpCiAgICAgIH0KICAgIH0sCiAgICBjb25maXJtUGF5MigpIHsKICAgICAgcGF5T3JkZXIodGhpcy5wYXlGb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLiRub3RpZnkuc3VjY2Vzcyh7CiAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsCiAgICAgICAgICBtZXNzYWdlOiAn6K6i5Y2V5pS25qy+5pON5L2c5oiQ5YqfJwogICAgICAgIH0pCiAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgfSkuY2F0Y2gocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICB0aXRsZTogJ+Wksei0pScsCiAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLmVycm1zZwogICAgICAgIH0pCiAgICAgIH0pLmZpbmFsbHkoKCkgPT4gewogICAgICAgIHRoaXMucGF5RGlhbG9nVmlzaWJsZSA9IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlU2hpcChyb3cpIHsKICAgICAgdGhpcy5zaGlwRm9ybS5vcmRlcklkID0gcm93LmlkCiAgICAgIHRoaXMuc2hpcEZvcm0uc2hpcENoYW5uZWwgPSByb3cuc2hpcENoYW5uZWwKICAgICAgdGhpcy5zaGlwRm9ybS5zaGlwU24gPSByb3cuc2hpcFNuCgogICAgICB0aGlzLnNoaXBEaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmc1snc2hpcEZvcm0nXS5jbGVhclZhbGlkYXRlKCkKICAgICAgfSkKICAgIH0sCiAgICBjb25maXJtU2hpcCgpIHsKICAgICAgdGhpcy4kcmVmc1snc2hpcEZvcm0nXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHNoaXBPcmRlcih0aGlzLnNoaXBGb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy5zaGlwRGlhbG9nVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuJG5vdGlmeS5zdWNjZXNzKHsKICAgICAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+ehruiupOWPkei0p+aIkOWKnycKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICAgIH0pLmNhdGNoKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICB0aXRsZTogJ+Wksei0pScsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZGF0YS5lcnJtc2cKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgZGVsZXRlT3JkZXIoeyBvcmRlcklkOiByb3cuaWQgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgdGl0bGU6ICfmiJDlip8nLAogICAgICAgICAgbWVzc2FnZTogJ+iuouWNleWIoOmZpOaIkOWKnycKICAgICAgICB9KQogICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgIH0pLmNhdGNoKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgdGl0bGU6ICflpLHotKUnLAogICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZGF0YS5lcnJtc2cKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZVJlZnVuZChyb3cpIHsKICAgICAgdGhpcy5yZWZ1bmRGb3JtLm9yZGVySWQgPSByb3cuaWQKICAgICAgdGhpcy5yZWZ1bmRGb3JtLnJlZnVuZE1vbmV5ID0gcm93LmFjdHVhbFByaWNlCgogICAgICB0aGlzLnJlZnVuZERpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzWydyZWZ1bmRGb3JtJ10uY2xlYXJWYWxpZGF0ZSgpCiAgICAgIH0pCiAgICB9LAogICAgY29uZmlybVJlZnVuZCgpIHsKICAgICAgdGhpcy4kcmVmc1sncmVmdW5kRm9ybSddLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgcmVmdW5kT3JkZXIodGhpcy5yZWZ1bmRGb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy5yZWZ1bmREaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICAgIHRpdGxlOiAn5oiQ5YqfJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn56Gu6K6k6YCA5qy+5oiQ5YqfJwogICAgICAgICAgICB9KQogICAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgICAgfSkuY2F0Y2gocmVzcG9uc2UgPT4gewogICAgICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICAgIHRpdGxlOiAn5aSx6LSlJywKICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLmVycm1zZwogICAgICAgICAgICB9KQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlRG93bmxvYWQoKSB7CiAgICAgIHRoaXMuZG93bmxvYWRMb2FkaW5nID0gdHJ1ZQogICAgICBpbXBvcnQoJ0AvdmVuZG9yL0V4cG9ydDJFeGNlbCcpLnRoZW4oZXhjZWwgPT4gewogICAgICAgIGNvbnN0IHRIZWFkZXIgPSBbJ+iuouWNlUlEJywgJ+iuouWNlee8luWPtycsICfnlKjmiLdJRCcsICforqLljZXnirbmgIEnLCAn5piv5ZCm5Yig6ZmkJywgJ+aUtui0p+S6uicsICfmlLbotKfogZTns7vnlLXor50nLCAn5pS26LSn5Zyw5Z2AJ10KICAgICAgICBjb25zdCBmaWx0ZXJWYWwgPSBbJ2lkJywgJ29yZGVyU24nLCAndXNlcklkJywgJ29yZGVyU3RhdHVzJywgJ2lzRGVsZXRlJywgJ2NvbnNpZ25lZScsICdtb2JpbGUnLCAnYWRkcmVzcyddCiAgICAgICAgZXhjZWwuZXhwb3J0X2pzb25fdG9fZXhjZWwyKHRIZWFkZXIsIHRoaXMubGlzdCwgZmlsdGVyVmFsLCAn6K6i5Y2V5L+h5oGvJykKICAgICAgICB0aGlzLmRvd25sb2FkTG9hZGluZyA9IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgcHJpbnRPcmRlcigpIHsKICAgICAgdGhpcy4kcHJpbnQodGhpcy4kcmVmcy5wcmludCkKICAgICAgdGhpcy5vcmRlckRpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgfQogIH0KfQo="},{"version":3,"sources":["order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiSA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"order.vue","sourceRoot":"src/views/mall","sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <!-- 查询和其他操作 -->\n    <div class=\"filter-container\">\n      <el-input v-model=\"listQuery.nickname\" clearable class=\"filter-item\" style=\"width: 160px;\" :placeholder=\"$t('mall_order.placeholder.filter_nickname')\" />\n      <el-input v-model=\"listQuery.consignee\" clearable class=\"filter-item\" style=\"width: 160px;\" :placeholder=\"$t('mall_order.placeholder.filter_consignee')\" />\n      <el-input v-model=\"listQuery.orderSn\" clearable class=\"filter-item\" style=\"width: 160px;\" :placeholder=\"$t('mall_order.placeholder.filter_order_sn')\" />\n      <el-date-picker v-model=\"listQuery.timeArray\" type=\"datetimerange\" value-format=\"yyyy-MM-dd HH:mm:ss\" class=\"filter-item\" :range-separator=\"$t('mall_order.text.date_range_separator')\" :start-placeholder=\"$t('mall_order.placeholder.filter_time_start')\" :end-placeholder=\"$t('mall_order.placeholder.filter_time_end')\" :picker-options=\"pickerOptions\" />\n      <el-select v-model=\"listQuery.orderStatusArray\" multiple style=\"width: 200px\" class=\"filter-item\" :placeholder=\"$t('mall_order.placeholder.filter_order_status')\">\n        <el-option v-for=\"(key, value) in statusMap\" :key=\"key\" :label=\"key\" :value=\"value\" />\n      </el-select>\n      <el-button v-permission=\"['GET /admin/order/list']\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">{{ $t('app.button.search') }}</el-button>\n      <el-button :loading=\"downloadLoading\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-download\" @click=\"handleDownload\">{{ $t('app.button.download') }}</el-button>\n    </div>\n\n    <!-- 查询结果 -->\n    <el-table v-loading=\"listLoading\" :data=\"list\" :element-loading-text=\"$t('app.message.list_loading')\" border fit highlight-current-row>\n\n      <el-table-column type=\"expand\">\n        <template slot-scope=\"props\">\n          <div v-for=\"item in props.row.goodsVoList\" :key=\"item.id\" class=\"order-goods\">\n            <div class=\"picture\">\n              <img :src=\"item.picUrl\" width=\"40\">\n            </div>\n            <div class=\"name\">\n              {{ $t('mall_order.text.expand_goods_name', { goods_name: item.goodsName }) }}\n            </div>\n            <div class=\"spec\">\n              {{ $t('mall_order.text.expand_specifications', { specifications: item.specifications.join('-') }) }}\n            </div>\n            <div class=\"price\">\n              {{ $t('mall_order.text.expand_unit_price', { price: item.price }) }}\n            </div>\n            <div class=\"num\">\n              {{ $t('mall_order.text.expand_number', { number: item.number }) }}\n            </div>\n            <div class=\"price\">\n              {{ $t('mall_order.text.expand_subtotal_price', { price: item.price * item.number }) }}\n            </div>\n          </div>\n        </template>\n      </el-table-column>\n\n      <el-table-column align=\"center\" min-width=\"120\" :label=\"$t('mall_order.table.order_sn')\" prop=\"orderSn\" />\n\n      <el-table-column align=\"center\" :label=\"$t('mall_order.table.avatar')\" width=\"80\">\n        <template slot-scope=\"scope\">\n          <el-avatar :src=\"scope.row.avatar\" />\n        </template>\n      </el-table-column>\n\n      <el-table-column align=\"center\" :label=\"$t('mall_order.table.user_name')\" prop=\"userName\" />\n\n      <el-table-column align=\"center\" :label=\"$t('mall_order.table.add_time')\" prop=\"addTime\" min-width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ (scope.row.addTime || '').substring(0, 10) }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" :label=\"$t('mall_order.table.order_status')\" prop=\"orderStatus\">\n        <template slot-scope=\"scope\">\n          <el-tag>{{ scope.row.orderStatus | orderStatusFilter }}</el-tag>\n        </template>\n      </el-table-column>\n\n      <el-table-column align=\"center\" :label=\"$t('mall_order.table.order_price')\" prop=\"orderPrice\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.orderPrice }} 元\n        </template>\n      </el-table-column>\n\n      <el-table-column align=\"center\" :label=\"$t('mall_order.table.actual_price')\" prop=\"actualPrice\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.actualPrice }} 元\n        </template>\n      </el-table-column>\n\n      <el-table-column align=\"center\" :label=\"$t('mall_order.table.pay_time')\" prop=\"payTime\" />\n\n      <el-table-column align=\"center\" :label=\"$t('mall_order.table.consignee')\" prop=\"consignee\">\n        <template slot-scope=\"scope\">\n          <span style=\"color:red; font-weight:bold;\">{{ scope.row.consignee }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column align=\"center\" :label=\"$t('mall_order.table.mobile')\" prop=\"mobile\" min-width=\"100\" />\n\n      <el-table-column align=\"center\" :label=\"$t('mall_order.table.ship_sn')\" prop=\"shipSn\" />\n\n      <el-table-column align=\"center\" :label=\"$t('mall_order.table.ship_channel')\" prop=\"shipChannel\" />\n\n      <el-table-column align=\"center\" :label=\"$t('mall_order.table.actions')\" width=\"250\" class-name=\"oper\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleDetail(scope.row)\">{{ $t('app.button.detail') }}</el-button>\n          <el-button type=\"danger\" size=\"mini\" @click=\"handleDelete(scope.row)\">{{ $t('app.button.delete') }}</el-button>\n          <el-button type=\"warning\" size=\"mini\" @click=\"handlePay(scope.row)\">{{ $t('mall_order.button.pay') }}</el-button>\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleShip(scope.row)\">{{ $t('mall_order.button.ship') }}</el-button>\n          <el-button type=\"danger\" size=\"mini\" @click=\"handleRefund(scope.row)\">{{ $t('mall_order.button.refund') }}</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"getList\" />\n\n    <!-- 订单详情对话框 -->\n    <el-dialog :visible.sync=\"orderDialogVisible\" :title=\"$t('mall_order.dialog.detail')\" width=\"800\">\n      <section ref=\"print\">\n        <el-form :data=\"orderDetail\" label-position=\"left\">\n          <el-form-item :label=\"$t('mall_order.form.detail_order_sn')\">\n            <span>{{ orderDetail.order.orderSn }}</span>\n          </el-form-item>\n          <el-form-item :label=\"$t('mall_order.form.detail_order_status')\">\n            <el-tag>{{ orderDetail.order.orderStatus | orderStatusFilter }}</el-tag>\n          </el-form-item>\n          <el-form-item :label=\"$t('mall_order.form.detail_user_nickname')\">\n            <span>{{ orderDetail.user.nickname }}</span>\n          </el-form-item>\n          <el-form-item :label=\"$t('mall_order.form.detail_message')\">\n            <span>{{ orderDetail.order.message }}</span>\n          </el-form-item>\n          <el-form-item :label=\"$t('mall_order.form.detail_receiving_info')\">\n            <span>{{ $t('mall_order.text.detail_consigne', { consignee: orderDetail.order.consignee }) }}</span>\n            <span>{{ $t('mall_order.text.detail_mobile', { mobile: orderDetail.order.mobile }) }}</span>\n            <span>{{ $t('mall_order.text.detail_address', { address: orderDetail.order.address }) }}</span>\n          </el-form-item>\n          <el-form-item :label=\"$t('mall_order.form.detail_goods')\">\n            <el-table :data=\"orderDetail.orderGoods\" border fit highlight-current-row>\n              <el-table-column align=\"center\" :label=\"$t('mall_order.table.detail_goods_name')\" prop=\"goodsName\" />\n              <el-table-column align=\"center\" :label=\"$t('mall_order.table.detail_goods_sn')\" prop=\"goodsSn\" />\n              <el-table-column align=\"center\" :label=\"$t('mall_order.table.detail_goods_specifications')\" prop=\"specifications\" />\n              <el-table-column align=\"center\" :label=\"$t('mall_order.table.detail_goods_price')\" prop=\"price\" />\n              <el-table-column align=\"center\" :label=\"$t('mall_order.table.detail_goods_number')\" prop=\"number\" />\n              <el-table-column align=\"center\" :label=\"$t('mall_order.table.detail_goods_pic_url')\" prop=\"picUrl\">\n                <template slot-scope=\"scope\">\n                  <img :src=\"scope.row.picUrl\" width=\"40\">\n                </template>\n              </el-table-column>\n            </el-table>\n          </el-form-item>\n          <el-form-item :label=\"$t('mall_order.form.detail_price_info')\">\n            <span>\n              {{ $t('mall_order.text.detail_price_info', {\n                actual_price: orderDetail.order.actualPrice,\n                goods_price: orderDetail.order.goodsPrice,\n                freight_price: orderDetail.order.freightPrice,\n                coupon_price: orderDetail.order.couponPrice,\n                integral_price: orderDetail.order.integralPrice\n              }) }}\n            </span>\n          </el-form-item>\n          <el-form-item :label=\"$t('mall_order.form.detail_pay_info')\">\n            <span>{{ $t('mall_order.text.detail_pay_channel', { pay_channel: '微信支付' }) }}</span>\n            <span>{{ $t('mall_order.text.detail_pay_time', { pay_time: orderDetail.order.payTime }) }}</span>\n          </el-form-item>\n          <el-form-item :label=\"$t('mall_order.form.detail_ship_info')\">\n            <span>{{ $t('mall_order.text.detail_ship_channel', { ship_channel: orderDetail.order.shipChannel }) }}</span>\n            <span>{{ $t('mall_order.text.detail_ship_sn', { ship_sn: orderDetail.order.shipSn }) }}</span>\n            <span>{{ $t('mall_order.text.detail_ship_time', { ship_time: orderDetail.order.shipTime }) }}</span>\n          </el-form-item>\n          <el-form-item :label=\"$t('mall_order.form.detail_refund_info')\">\n            <span>{{ $t('mall_order.text.detail_refund_amount', { refund_amount: orderDetail.order.refundAmount }) }}</span>\n            <span>{{ $t('mall_order.text.detail_refund_type', { refund_type: orderDetail.order.refundType }) }}</span>\n            <span>{{ $t('mall_order.text.detail_refund_content', { refund_content: orderDetail.order.refundContent }) }}</span>\n            <span>{{ $t('mall_order.text.detail_refund_time', { refund_time: orderDetail.order.refundTime }) }}</span>\n          </el-form-item>\n          <el-form-item :label=\"$t('mall_order.form.detail_receipt_info')\">\n            <span>{{ $t('mall_order.text.detail_confirm_time', { confirm_time: orderDetail.order.confirmTime }) }}</span>\n          </el-form-item>\n        </el-form>\n      </section>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"orderDialogVisible = false\">{{ $t('mall_order.button.detail_cancel') }}</el-button>\n        <el-button type=\"primary\" @click=\"printOrder\">{{ $t('mall_order.button.detail_print') }}</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 收款对话框 -->\n    <el-dialog :visible.sync=\"payDialogVisible\" :title=\"$t('mall_order.dialog.pay')\" width=\"40%\" center>\n      <el-form ref=\"payForm\" :model=\"payForm\" status-icon label-position=\"left\" label-width=\"100px\">\n        <div style=\"margin-bottom: 10px;\">\n          {{ $t('mall_order.message.pay_confirm', { order_sn: payForm.orderSn }) }}\n        </div>\n        <el-form-item :label=\"$t('mall_order.form.pay_old_money')\" prop=\"oldMoney\">\n          <el-input-number v-model=\"payForm.oldMoney\" :controls=\"false\" disabled />\n        </el-form-item>\n        <el-form-item :label=\"$t('mall_order.form.pay_new_money')\" prop=\"newMoney\">\n          <el-input-number v-model=\"payForm.newMoney\" :controls=\"false\" />\n        </el-form-item>\n      </el-form>\n      <el-table :data=\"payForm.goodsList\">\n        <el-table-column property=\"goodsName\" :label=\"$t('mall_order.table.pay_goods_name')\" />\n        <el-table-column :label=\"$t('mall_order.table.pay_goods_specifications')\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.specifications.join('-') }}\n          </template>\n        </el-table-column>\n        <el-table-column property=\"onumber\" width=\"100\" :label=\"$t('mall_order.table.pay_goods_number')\" />\n        <!-- <el-table-column label=\"实际数量\" width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-input-number v-model=\"scope.row.number\" :min=\"0\" :controls=\"false\" />\n          </template>\n        </el-table-column> -->\n      </el-table>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"payDialogVisible = false\">{{ $t('app.button.cancel') }}</el-button>\n        <el-button type=\"primary\" @click=\"confirmPay\">{{ $t('app.button.confirm') }}</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 发货对话框 -->\n    <el-dialog :visible.sync=\"shipDialogVisible\" :title=\"$t('mall_order.dialog.ship')\">\n      <el-form ref=\"shipForm\" :model=\"shipForm\" status-icon label-position=\"left\" label-width=\"100px\" style=\"width: 400px; margin-left:50px;\">\n        <el-form-item :label=\"$t('mall_order.form.ship_channel')\" prop=\"shipChannel\">\n          <el-select v-model=\"shipForm.shipChannel\" :placeholder=\"$t('mall_order.placeholder.ship_channel')\">\n            <el-option v-for=\"item in channels\" :key=\"item.code\" :label=\"item.name\" :value=\"item.code\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item :label=\"$t('mall_order.form.ship_sn')\" prop=\"shipSn\">\n          <el-input v-model=\"shipForm.shipSn\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"shipDialogVisible = false\">{{ $t('app.button.cancel') }}</el-button>\n        <el-button type=\"primary\" @click=\"confirmShip\">{{ $t('app.button.confirm') }}</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 退款对话框 -->\n    <el-dialog :visible.sync=\"refundDialogVisible\" :title=\"$t('mall_order.dialog.refund')\">\n      <el-form ref=\"refundForm\" :model=\"refundForm\" status-icon label-position=\"left\" label-width=\"100px\" style=\"width: 400px; margin-left:50px;\">\n        <el-form-item :label=\"$t('mall_order.form.refund_money')\" prop=\"refundMoney\">\n          <el-input v-model=\"refundForm.refundMoney\" :disabled=\"true\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"refundDialogVisible = false\">{{ $t('app.button.cancel') }}</el-button>\n        <el-button type=\"primary\" @click=\"confirmRefund\">{{ $t('app.button.confirm') }}</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.el-table--medium th, .el-table--medium td {\n    padding: 3px 0;\n}\n\n.el-input-number--medium {\n  width: 100%;\n}\n\n.oper .el-button--mini {\n  padding: 7px 4px;\n  width: 40px;\n  font-size: 10px;\n  margin-left: 1px;\n}\n\n::v-deep .el-table__expanded-cell {\n  padding: 6px 80px;\n}\n\n.order-goods {\n  display: flex;\n  justify-content: space-around;\n  justify-items: center;\n  align-items:center;\n  padding: 6px 0;\n}\n\n.name {\n  width: 400px;\n}\n\n.spec {\n  width: 180px;\n}\n\n.price {\n  width: 120px;\n}\n\n.num {\n  width: 120px;\n}\n</style>\n\n<script>\nimport { detailOrder, listOrder, listChannel, refundOrder, payOrder, deleteOrder, shipOrder } from '@/api/order'\nimport Pagination from '@/components/Pagination' // Secondary package based on el-pagination\nimport checkPermission from '@/utils/permission' // 权限判断函数\n\nconst statusMap = {\n  101: '未付款',\n  102: '用户取消',\n  103: '系统取消',\n  201: '已付款',\n  202: '申请退款',\n  203: '已退款',\n  301: '已发货',\n  401: '用户收货',\n  402: '系统收货'\n}\n\nexport default {\n  name: 'Order',\n  components: { Pagination },\n  filters: {\n    orderStatusFilter(status) {\n      return statusMap[status]\n    }\n  },\n  data() {\n    return {\n      list: [],\n      total: 0,\n      listLoading: true,\n      listQuery: {\n        page: 1,\n        limit: 20,\n        nickname: undefined,\n        consignee: undefined,\n        orderSn: undefined,\n        timeArray: [],\n        orderStatusArray: [],\n        sort: 'add_time',\n        order: 'desc'\n      },\n      pickerOptions: {\n        shortcuts: [{\n          text: '最近一周',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\n            picker.$emit('pick', [start, end])\n          }\n        }, {\n          text: '最近一个月',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n            picker.$emit('pick', [start, end])\n          }\n        }, {\n          text: '最近三个月',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\n            picker.$emit('pick', [start, end])\n          }\n        }]\n      },\n      statusMap,\n      orderDialogVisible: false,\n      orderDetail: {\n        order: {},\n        user: {},\n        orderGoods: []\n      },\n      shipForm: {\n        orderId: undefined,\n        shipChannel: undefined,\n        shipSn: undefined\n      },\n      shipDialogVisible: false,\n      payForm: {\n        orderId: undefined,\n        orderSn: '',\n        oldMoney: 0,\n        newMoney: 0,\n        goodsList: []\n      },\n      payDialogVisible: false,\n      refundForm: {\n        orderId: undefined,\n        refundMoney: undefined\n      },\n      refundDialogVisible: false,\n      downloadLoading: false,\n      channels: []\n    }\n  },\n  created() {\n    this.getList()\n    this.getChannel()\n  },\n  methods: {\n    checkPermission,\n    getList() {\n      this.listLoading = true\n      if (this.listQuery.timeArray && this.listQuery.timeArray.length === 2) {\n        this.listQuery.start = this.listQuery.timeArray[0]\n        this.listQuery.end = this.listQuery.timeArray[1]\n      } else {\n        this.listQuery.start = null\n        this.listQuery.end = null\n      }\n      if (this.listQuery.orderId) {\n        detailOrder(this.listQuery.orderId).then(response => {\n          this.list = []\n          if (response.data.data.order) {\n            this.list.push(response.data.data.order)\n            this.total = 1\n            this.listLoading = false\n          }\n        }).catch(() => {\n          this.list = []\n          this.total = 0\n          this.listLoading = false\n        })\n      } else {\n        listOrder(this.listQuery).then(response => {\n          this.list = response.data.data.list\n          this.total = response.data.data.total\n          this.listLoading = false\n        }).catch(() => {\n          this.list = []\n          this.total = 0\n          this.listLoading = false\n        })\n      }\n    },\n    getChannel() {\n      listChannel().then(response => {\n        this.channels = response.data.data\n      })\n    },\n    handleFilter() {\n      this.listQuery.page = 1\n      this.getList()\n    },\n    handleDetail(row) {\n      detailOrder(row.id).then(response => {\n        this.orderDetail = response.data.data\n      })\n      this.orderDialogVisible = true\n    },\n    handlePay(row) {\n      this.payForm.orderId = row.id\n      this.payForm.orderSn = row.orderSn\n      this.payForm.oldMoney = row.actualPrice\n      this.payForm.newMoney = row.actualPrice\n      this.payForm.goodsList = row.goodsVoList\n      this.payForm.goodsList.forEach(element => {\n        element.onumber = element.number\n      })\n      this.payDialogVisible = true\n    },\n    confirmPay() {\n      if (this.payForm.oldMoney !== this.payForm.newMoney) {\n        const diff = this.payForm.newMoney - this.payForm.oldMoney\n        this.$confirm('差额 ' + diff + '元， 是否确认提交')\n          .then(_ => {\n            this.confirmPay2()\n          })\n          .catch(_ => {})\n      } else {\n        this.confirmPay2()\n      }\n    },\n    confirmPay2() {\n      payOrder(this.payForm).then(response => {\n        this.$notify.success({\n          title: '成功',\n          message: '订单收款操作成功'\n        })\n        this.getList()\n      }).catch(response => {\n        this.$notify.error({\n          title: '失败',\n          message: response.data.errmsg\n        })\n      }).finally(() => {\n        this.payDialogVisible = false\n      })\n    },\n    handleShip(row) {\n      this.shipForm.orderId = row.id\n      this.shipForm.shipChannel = row.shipChannel\n      this.shipForm.shipSn = row.shipSn\n\n      this.shipDialogVisible = true\n      this.$nextTick(() => {\n        this.$refs['shipForm'].clearValidate()\n      })\n    },\n    confirmShip() {\n      this.$refs['shipForm'].validate((valid) => {\n        if (valid) {\n          shipOrder(this.shipForm).then(response => {\n            this.shipDialogVisible = false\n            this.$notify.success({\n              title: '成功',\n              message: '确认发货成功'\n            })\n            this.getList()\n          }).catch(response => {\n            this.$notify.error({\n              title: '失败',\n              message: response.data.errmsg\n            })\n          })\n        }\n      })\n    },\n    handleDelete(row) {\n      deleteOrder({ orderId: row.id }).then(response => {\n        this.$notify.success({\n          title: '成功',\n          message: '订单删除成功'\n        })\n        this.getList()\n      }).catch(response => {\n        this.$notify.error({\n          title: '失败',\n          message: response.data.errmsg\n        })\n      })\n    },\n    handleRefund(row) {\n      this.refundForm.orderId = row.id\n      this.refundForm.refundMoney = row.actualPrice\n\n      this.refundDialogVisible = true\n      this.$nextTick(() => {\n        this.$refs['refundForm'].clearValidate()\n      })\n    },\n    confirmRefund() {\n      this.$refs['refundForm'].validate((valid) => {\n        if (valid) {\n          refundOrder(this.refundForm).then(response => {\n            this.refundDialogVisible = false\n            this.$notify.success({\n              title: '成功',\n              message: '确认退款成功'\n            })\n            this.getList()\n          }).catch(response => {\n            this.$notify.error({\n              title: '失败',\n              message: response.data.errmsg\n            })\n          })\n        }\n      })\n    },\n    handleDownload() {\n      this.downloadLoading = true\n      import('@/vendor/Export2Excel').then(excel => {\n        const tHeader = ['订单ID', '订单编号', '用户ID', '订单状态', '是否删除', '收货人', '收货联系电话', '收货地址']\n        const filterVal = ['id', 'orderSn', 'userId', 'orderStatus', 'isDelete', 'consignee', 'mobile', 'address']\n        excel.export_json_to_excel2(tHeader, this.list, filterVal, '订单信息')\n        this.downloadLoading = false\n      })\n    },\n    printOrder() {\n      this.$print(this.$refs.print)\n      this.orderDialogVisible = false\n    }\n  }\n}\n</script>\n"]}]}