{"remainingRequest":"D:\\javaProject\\litemall-master\\litemall-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\javaProject\\litemall-master\\litemall-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\javaProject\\litemall-master\\litemall-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\javaProject\\litemall-master\\litemall-admin\\src\\views\\goods\\edit.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\javaProject\\litemall-master\\litemall-admin\\src\\views\\goods\\edit.vue","mtime":1703663872000},{"path":"D:\\javaProject\\litemall-master\\litemall-admin\\babel.config.js","mtime":1703663870000},{"path":"D:\\javaProject\\litemall-master\\litemall-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\javaProject\\litemall-master\\litemall-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\javaProject\\litemall-master\\litemall-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\javaProject\\litemall-master\\litemall-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9qYXZhUHJvamVjdC9saXRlbWFsbC1tYXN0ZXIvbGl0ZW1hbGwtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiKTsKdmFyIF9nb29kcyA9IHJlcXVpcmUoIkAvYXBpL2dvb2RzIik7CnZhciBfc3RvcmFnZSA9IHJlcXVpcmUoIkAvYXBpL3N0b3JhZ2UiKTsKdmFyIF90aW55bWNlVnVlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAdGlueW1jZS90aW55bWNlLXZ1ZSIpKTsKdmFyIF9lbGVtZW50VWkgPSByZXF1aXJlKCJlbGVtZW50LXVpIik7CnZhciBfYXV0aCA9IHJlcXVpcmUoIkAvdXRpbHMvYXV0aCIpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB7CiAgbmFtZTogJ0dvb2RzRWRpdCcsCiAgY29tcG9uZW50czogewogICAgRWRpdG9yOiBfdGlueW1jZVZ1ZS5kZWZhdWx0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXBsb2FkUGF0aDogX3N0b3JhZ2UudXBsb2FkUGF0aCwKICAgICAgbmV3S2V5d29yZFZpc2libGU6IGZhbHNlLAogICAgICBuZXdLZXl3b3JkOiAnJywKICAgICAga2V5d29yZHM6IFtdLAogICAgICBnYWxsZXJ5RmlsZUxpc3Q6IFtdLAogICAgICBjYXRlZ29yeUxpc3Q6IFtdLAogICAgICBicmFuZExpc3Q6IFtdLAogICAgICBjYXRlZ29yeUlkczogW10sCiAgICAgIGdvb2RzOiB7CiAgICAgICAgZ2FsbGVyeTogW10KICAgICAgfSwKICAgICAgc3BlY1Zpc2lhYmxlOiBmYWxzZSwKICAgICAgc3BlY0Zvcm06IHsKICAgICAgICBzcGVjaWZpY2F0aW9uOiAnJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgcGljVXJsOiAnJwogICAgICB9LAogICAgICBzcGVjaWZpY2F0aW9uczogW3sKICAgICAgICBzcGVjaWZpY2F0aW9uOiAn6KeE5qC8JywKICAgICAgICB2YWx1ZTogJ+agh+WHhicsCiAgICAgICAgcGljVXJsOiAnJwogICAgICB9XSwKICAgICAgcHJvZHVjdFZpc2lhYmxlOiBmYWxzZSwKICAgICAgcHJvZHVjdEZvcm06IHsKICAgICAgICBpZDogMCwKICAgICAgICBzcGVjaWZpY2F0aW9uczogW10sCiAgICAgICAgcHJpY2U6IDAuMCwKICAgICAgICBudW1iZXI6IDAsCiAgICAgICAgdXJsOiAnJwogICAgICB9LAogICAgICBwcm9kdWN0czogW3sKICAgICAgICBpZDogMCwKICAgICAgICBzcGVjaWZpY2F0aW9uczogWyfmoIflh4YnXSwKICAgICAgICBwcmljZTogMC4wLAogICAgICAgIG51bWJlcjogMCwKICAgICAgICB1cmw6ICcnCiAgICAgIH1dLAogICAgICBhdHRyaWJ1dGVWaXNpYWJsZTogZmFsc2UsCiAgICAgIGF0dHJpYnV0ZUFkZDogdHJ1ZSwKICAgICAgYXR0cmlidXRlRm9ybTogewogICAgICAgIGF0dHJpYnV0ZTogJycsCiAgICAgICAgdmFsdWU6ICcnCiAgICAgIH0sCiAgICAgIGF0dHJpYnV0ZXM6IFtdLAogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfllYblk4HlkI3np7DkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgZWRpdG9ySW5pdDogewogICAgICAgIGxhbmd1YWdlOiAnemhfQ04nLAogICAgICAgIGhlaWdodDogJzQwMHB4JywKICAgICAgICBjb252ZXJ0X3VybHM6IGZhbHNlLAogICAgICAgIHBsdWdpbnM6IFsnYWR2bGlzdCBhbmNob3IgYXV0b2xpbmsgYXV0b3NhdmUgY29kZSBjb2Rlc2FtcGxlIGNvbG9ycGlja2VyIGNvbG9ycGlja2VyIGNvbnRleHRtZW51IGRpcmVjdGlvbmFsaXR5IGVtb3RpY29ucyBmdWxsc2NyZWVuIGhyIGltYWdlIGltYWdldG9vbHMgaW1wb3J0Y3NzIGluc2VydGRhdGV0aW1lIGxpbmsgbGlzdHMgbWVkaWEgbm9uYnJlYWtpbmcgbm9uZWRpdGFibGUgcGFnZWJyZWFrIHBhc3RlIHByZXZpZXcgcHJpbnQgc2F2ZSBzZWFyY2hyZXBsYWNlIHNwZWxsY2hlY2tlciB0YWJmb2N1cyB0YWJsZSB0ZW1wbGF0ZSB0ZXh0Y29sb3IgdGV4dHBhdHRlcm4gdmlzdWFsYmxvY2tzIHZpc3VhbGNoYXJzIHdvcmRjb3VudCddLAogICAgICAgIHRvb2xiYXI6IFsnc2VhcmNocmVwbGFjZSBib2xkIGl0YWxpYyB1bmRlcmxpbmUgc3RyaWtldGhyb3VnaCBhbGlnbmxlZnQgYWxpZ25jZW50ZXIgYWxpZ25yaWdodCBvdXRkZW50IGluZGVudCAgYmxvY2txdW90ZSB1bmRvIHJlZG8gcmVtb3ZlZm9ybWF0IHN1YnNjcmlwdCBzdXBlcnNjcmlwdCBjb2RlIGNvZGVzYW1wbGUnLCAnaHIgYnVsbGlzdCBudW1saXN0IGxpbmsgaW1hZ2UgY2hhcm1hcCBwcmV2aWV3IGFuY2hvciBwYWdlYnJlYWsgaW5zZXJ0ZGF0ZXRpbWUgbWVkaWEgdGFibGUgZW1vdGljb25zIGZvcmVjb2xvciBiYWNrY29sb3IgZnVsbHNjcmVlbiddLAogICAgICAgIGltYWdlc191cGxvYWRfaGFuZGxlcjogZnVuY3Rpb24gaW1hZ2VzX3VwbG9hZF9oYW5kbGVyKGJsb2JJbmZvLCBzdWNjZXNzLCBmYWlsdXJlKSB7CiAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGJsb2JJbmZvLmJsb2IoKSk7CiAgICAgICAgICAoMCwgX3N0b3JhZ2UuY3JlYXRlU3RvcmFnZSkoZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBzdWNjZXNzKHJlcy5kYXRhLmRhdGEudXJsKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZmFpbHVyZSgn5LiK5Lyg5aSx6LSl77yM6K+36YeN5paw5LiK5LygJyk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaGVhZGVyczogZnVuY3Rpb24gaGVhZGVycygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAnWC1MaXRlbWFsbC1BZG1pbi1Ub2tlbic6ICgwLCBfYXV0aC5nZXRUb2tlbikoKQogICAgICB9OwogICAgfSwKICAgIGF0dHJpYnV0ZXNEYXRhOiBmdW5jdGlvbiBhdHRyaWJ1dGVzRGF0YSgpIHsKICAgICAgdmFyIGF0dHJpYnV0ZXNEYXRhID0gW107CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlc1tpXS5kZWxldGVkKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgICAgYXR0cmlidXRlc0RhdGEucHVzaCh0aGlzLmF0dHJpYnV0ZXNbaV0pOwogICAgICB9CiAgICAgIHJldHVybiBhdHRyaWJ1dGVzRGF0YTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5pZCA9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBnb29kc0lkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICAgICgwLCBfZ29vZHMuZGV0YWlsR29vZHMpKGdvb2RzSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuZ29vZHMgPSByZXNwb25zZS5kYXRhLmRhdGEuZ29vZHM7CiAgICAgICAgLy8g56iN5b6u6LCD5pW05LiA5LiL5YmN5ZCO56uv5LiN5LiA6Ie0CiAgICAgICAgaWYgKF90aGlzLmdvb2RzLmJyYW5kSWQgPT09IDApIHsKICAgICAgICAgIF90aGlzLmdvb2RzLmJyYW5kSWQgPSBudWxsOwogICAgICAgIH0KICAgICAgICBpZiAoX3RoaXMuZ29vZHMua2V5d29yZHMgPT09ICcnKSB7CiAgICAgICAgICBfdGhpcy5nb29kcy5rZXl3b3JkcyA9IG51bGw7CiAgICAgICAgfQogICAgICAgIF90aGlzLnNwZWNpZmljYXRpb25zID0gcmVzcG9uc2UuZGF0YS5kYXRhLnNwZWNpZmljYXRpb25zOwogICAgICAgIF90aGlzLnByb2R1Y3RzID0gcmVzcG9uc2UuZGF0YS5kYXRhLnByb2R1Y3RzOwogICAgICAgIF90aGlzLmF0dHJpYnV0ZXMgPSByZXNwb25zZS5kYXRhLmRhdGEuYXR0cmlidXRlczsKICAgICAgICBfdGhpcy5jYXRlZ29yeUlkcyA9IHJlc3BvbnNlLmRhdGEuZGF0YS5jYXRlZ29yeUlkczsKICAgICAgICBfdGhpcy5nYWxsZXJ5RmlsZUxpc3QgPSBbXTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLmdvb2RzLmdhbGxlcnkubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIF90aGlzLmdhbGxlcnlGaWxlTGlzdC5wdXNoKHsKICAgICAgICAgICAgdXJsOiBfdGhpcy5nb29kcy5nYWxsZXJ5W2ldCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdmFyIGtleXdvcmRzID0gcmVzcG9uc2UuZGF0YS5kYXRhLmdvb2RzLmtleXdvcmRzOwogICAgICAgIGlmIChrZXl3b3JkcyAhPT0gbnVsbCkgewogICAgICAgICAgX3RoaXMua2V5d29yZHMgPSBrZXl3b3Jkcy5zcGxpdCgnLCcpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgICgwLCBfZ29vZHMubGlzdENhdEFuZEJyYW5kKSgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuY2F0ZWdvcnlMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhLmNhdGVnb3J5TGlzdDsKICAgICAgICBfdGhpcy5icmFuZExpc3QgPSByZXNwb25zZS5kYXRhLmRhdGEuYnJhbmRMaXN0OwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDYXRlZ29yeUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ2F0ZWdvcnlDaGFuZ2UodmFsdWUpIHsKICAgICAgdGhpcy5nb29kcy5jYXRlZ29yeUlkID0gdmFsdWVbdmFsdWUubGVuZ3RoIC0gMV07CiAgICB9LAogICAgaGFuZGxlQ2FuY2VsOiBmdW5jdGlvbiBoYW5kbGVDYW5jZWwoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0YWdzVmlldy9kZWxWaWV3JywgdGhpcy4kcm91dGUpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9nb29kcy9saXN0JwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVFZGl0OiBmdW5jdGlvbiBoYW5kbGVFZGl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIGZpbmFsR29vZHMgPSB7CiAgICAgICAgZ29vZHM6IHRoaXMuZ29vZHMsCiAgICAgICAgc3BlY2lmaWNhdGlvbnM6IHRoaXMuc3BlY2lmaWNhdGlvbnMsCiAgICAgICAgcHJvZHVjdHM6IHRoaXMucHJvZHVjdHMsCiAgICAgICAgYXR0cmlidXRlczogdGhpcy5hdHRyaWJ1dGVzCiAgICAgIH07CiAgICAgICgwLCBfZ29vZHMuZWRpdEdvb2RzKShmaW5hbEdvb2RzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgdGl0bGU6ICfmiJDlip8nLAogICAgICAgICAgbWVzc2FnZTogJ+e8lui+keaIkOWKnycKICAgICAgICB9KTsKICAgICAgICBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCd0YWdzVmlldy9kZWxWaWV3JywgX3RoaXMyLiRyb3V0ZSk7CiAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAnL2dvb2RzL2xpc3QnCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF9lbGVtZW50VWkuTWVzc2FnZUJveC5hbGVydCgn5Lia5Yqh6ZSZ6K+v77yaJyArIHJlc3BvbnNlLmRhdGEuZXJybXNnLCAn6K2m5ZGKJywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDbG9zZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2UodGFnKSB7CiAgICAgIHRoaXMua2V5d29yZHMuc3BsaWNlKHRoaXMua2V5d29yZHMuaW5kZXhPZih0YWcpLCAxKTsKICAgICAgdGhpcy5nb29kcy5rZXl3b3JkcyA9IHRoaXMua2V5d29yZHMudG9TdHJpbmcoKTsKICAgIH0sCiAgICBzaG93SW5wdXQ6IGZ1bmN0aW9uIHNob3dJbnB1dCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMubmV3S2V5d29yZFZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoXykgewogICAgICAgIF90aGlzMy4kcmVmcy5uZXdLZXl3b3JkSW5wdXQuJHJlZnMuaW5wdXQuZm9jdXMoKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlSW5wdXRDb25maXJtOiBmdW5jdGlvbiBoYW5kbGVJbnB1dENvbmZpcm0oKSB7CiAgICAgIHZhciBuZXdLZXl3b3JkID0gdGhpcy5uZXdLZXl3b3JkOwogICAgICBpZiAobmV3S2V5d29yZCkgewogICAgICAgIHRoaXMua2V5d29yZHMucHVzaChuZXdLZXl3b3JkKTsKICAgICAgICB0aGlzLmdvb2RzLmtleXdvcmRzID0gdGhpcy5rZXl3b3Jkcy50b1N0cmluZygpOwogICAgICB9CiAgICAgIHRoaXMubmV3S2V5d29yZFZpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5uZXdLZXl3b3JkID0gJyc7CiAgICB9LAogICAgdXBsb2FkUGljVXJsOiBmdW5jdGlvbiB1cGxvYWRQaWNVcmwocmVzcG9uc2UpIHsKICAgICAgdGhpcy5nb29kcy5waWNVcmwgPSByZXNwb25zZS5kYXRhLnVybDsKICAgIH0sCiAgICB1cGxvYWRPdmVycnVuOiBmdW5jdGlvbiB1cGxvYWRPdmVycnVuKCkgewogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgIG1lc3NhZ2U6ICfkuIrkvKDmlofku7bkuKrmlbDotoXlh7rpmZDliLYh5pyA5aSa5LiK5LygNeW8oOWbvueJhyEnCiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUdhbGxlcnlVcmw6IGZ1bmN0aW9uIGhhbmRsZUdhbGxlcnlVcmwocmVzcG9uc2UsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIGlmIChyZXNwb25zZS5lcnJubyA9PT0gMCkgewogICAgICAgIHRoaXMuZ29vZHMuZ2FsbGVyeS5wdXNoKHJlc3BvbnNlLmRhdGEudXJsKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVJlbW92ZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5nb29kcy5nYWxsZXJ5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgLy8g6L+Z6YeM5a2Y5Zyo5Lik56eN5oOF5Ya1CiAgICAgICAgLy8gMS4g5aaC5p6c5omA5Yig6Zmk5Zu+54mH5piv5Yia5Yia5LiK5Lyg55qE5Zu+54mH77yM6YKj5LmI5Zu+54mH5Zyw5Z2A5pivZmlsZS5yZXNwb25zZS5kYXRhLnVybAogICAgICAgIC8vICAgIOatpOaXtueahGZpbGUudXJs6Jm954S25a2Y5Zyo77yM5L2G5piv5piv5pys5py65Zyw5Z2A77yM6ICM5LiN5piv6L+c56iL5Zyw5Z2A44CCCiAgICAgICAgLy8gMi4g5aaC5p6c5omA5Yig6Zmk5Zu+54mH5piv5ZCO5Y+w6L+U5Zue55qE5bey5pyJ5Zu+54mH77yM6YKj5LmI5Zu+54mH5Zyw5Z2A5pivZmlsZS51cmwKICAgICAgICB2YXIgdXJsOwogICAgICAgIGlmIChmaWxlLnJlc3BvbnNlID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHVybCA9IGZpbGUudXJsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB1cmwgPSBmaWxlLnJlc3BvbnNlLmRhdGEudXJsOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5nb29kcy5nYWxsZXJ5W2ldID09PSB1cmwpIHsKICAgICAgICAgIHRoaXMuZ29vZHMuZ2FsbGVyeS5zcGxpY2UoaSwgMSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc3BlY0NoYW5nZWQ6IGZ1bmN0aW9uIHNwZWNDaGFuZ2VkKGxhYmVsKSB7CiAgICAgIGlmIChsYWJlbCA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLnNwZWNpZmljYXRpb25zID0gW3sKICAgICAgICAgIHNwZWNpZmljYXRpb246ICfop4TmoLwnLAogICAgICAgICAgdmFsdWU6ICfmoIflh4YnLAogICAgICAgICAgcGljVXJsOiAnJwogICAgICAgIH1dOwogICAgICAgIHRoaXMucHJvZHVjdHMgPSBbewogICAgICAgICAgaWQ6IDAsCiAgICAgICAgICBzcGVjaWZpY2F0aW9uczogWyfmoIflh4YnXSwKICAgICAgICAgIHByaWNlOiAwLjAsCiAgICAgICAgICBudW1iZXI6IDAsCiAgICAgICAgICB1cmw6ICcnCiAgICAgICAgfV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zcGVjaWZpY2F0aW9ucyA9IFtdOwogICAgICAgIHRoaXMucHJvZHVjdHMgPSBbXTsKICAgICAgfQogICAgfSwKICAgIHVwbG9hZFNwZWNQaWNVcmw6IGZ1bmN0aW9uIHVwbG9hZFNwZWNQaWNVcmwocmVzcG9uc2UpIHsKICAgICAgdGhpcy5zcGVjRm9ybS5waWNVcmwgPSByZXNwb25zZS5kYXRhLnVybDsKICAgIH0sCiAgICBoYW5kbGVTcGVjaWZpY2F0aW9uU2hvdzogZnVuY3Rpb24gaGFuZGxlU3BlY2lmaWNhdGlvblNob3cocm93KSB7CiAgICAgIHRoaXMuc3BlY0Zvcm0gPSBPYmplY3QuYXNzaWduKHt9LCByb3cpOwogICAgICB0aGlzLnNwZWNWaXNpYWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlU3BlY2lmaWNhdGlvbkVkaXQ6IGZ1bmN0aW9uIGhhbmRsZVNwZWNpZmljYXRpb25FZGl0KCkgewogICAgICB0aGlzLnNwZWNGb3JtLnVwZGF0ZVRpbWUgPSAnJzsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNwZWNpZmljYXRpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHYgPSB0aGlzLnNwZWNpZmljYXRpb25zW2ldOwogICAgICAgIGlmICh2LmlkID09PSB0aGlzLnNwZWNGb3JtLmlkKSB7CiAgICAgICAgICB0aGlzLnNwZWNpZmljYXRpb25zLnNwbGljZShpLCAxLCB0aGlzLnNwZWNGb3JtKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnNwZWNWaXNpYWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZVByb2R1Y3RTaG93OiBmdW5jdGlvbiBoYW5kbGVQcm9kdWN0U2hvdyhyb3cpIHsKICAgICAgdGhpcy5wcm9kdWN0Rm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIHJvdyk7CiAgICAgIHRoaXMucHJvZHVjdFZpc2lhYmxlID0gdHJ1ZTsKICAgIH0sCiAgICB1cGxvYWRQcm9kdWN0VXJsOiBmdW5jdGlvbiB1cGxvYWRQcm9kdWN0VXJsKHJlc3BvbnNlKSB7CiAgICAgIHRoaXMucHJvZHVjdEZvcm0udXJsID0gcmVzcG9uc2UuZGF0YS51cmw7CiAgICB9LAogICAgaGFuZGxlUHJvZHVjdEVkaXQ6IGZ1bmN0aW9uIGhhbmRsZVByb2R1Y3RFZGl0KCkgewogICAgICB0aGlzLnByb2R1Y3RGb3JtLnVwZGF0ZVRpbWUgPSAnJzsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHYgPSB0aGlzLnByb2R1Y3RzW2ldOwogICAgICAgIGlmICh2LmlkID09PSB0aGlzLnByb2R1Y3RGb3JtLmlkKSB7CiAgICAgICAgICB0aGlzLnByb2R1Y3RzLnNwbGljZShpLCAxLCB0aGlzLnByb2R1Y3RGb3JtKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnByb2R1Y3RWaXNpYWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZUF0dHJpYnV0ZVNob3c6IGZ1bmN0aW9uIGhhbmRsZUF0dHJpYnV0ZVNob3cocm93KSB7CiAgICAgIGlmIChyb3cuaWQpIHsKICAgICAgICB0aGlzLmF0dHJpYnV0ZUZvcm0gPSBPYmplY3QuYXNzaWduKHt9LCByb3cpOwogICAgICAgIHRoaXMuYXR0cmlidXRlQWRkID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hdHRyaWJ1dGVGb3JtID0ge307CiAgICAgICAgdGhpcy5hdHRyaWJ1dGVBZGQgPSB0cnVlOwogICAgICB9CiAgICAgIHRoaXMuYXR0cmlidXRlVmlzaWFibGUgPSB0cnVlOwogICAgfSwKICAgIGhhbmRsZUF0dHJpYnV0ZUFkZDogZnVuY3Rpb24gaGFuZGxlQXR0cmlidXRlQWRkKCkgewogICAgICB0aGlzLmF0dHJpYnV0ZXMudW5zaGlmdCh0aGlzLmF0dHJpYnV0ZUZvcm0pOwogICAgICB0aGlzLmF0dHJpYnV0ZVZpc2lhYmxlID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlQXR0cmlidXRlRWRpdDogZnVuY3Rpb24gaGFuZGxlQXR0cmlidXRlRWRpdCgpIHsKICAgICAgLy8g6L+Z5piv5LiA5LiqdHJpY2vvvIzorr7nva51cGRhdGVUaW1l55qE5YC85Li656m677yM5ZGK6K+J5ZCO56uv6L+Z5Liq6K6w5b2V5bey57yW6L6R6ZyA6KaB5pu05paw44CCCiAgICAgIHRoaXMuYXR0cmlidXRlRm9ybS51cGRhdGVUaW1lID0gJyc7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHYgPSB0aGlzLmF0dHJpYnV0ZXNbaV07CiAgICAgICAgaWYgKHYuaWQgPT09IHRoaXMuYXR0cmlidXRlRm9ybS5pZCkgewogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnNwbGljZShpLCAxLCB0aGlzLmF0dHJpYnV0ZUZvcm0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuYXR0cmlidXRlVmlzaWFibGUgPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVBdHRyaWJ1dGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZUF0dHJpYnV0ZURlbGV0ZShyb3cpIHsKICAgICAgcm93LmRlbGV0ZWQgPSB0cnVlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["edit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <el-card class=\"box-card\">\n      <h3>{{ $t('goods_edit.section.goods') }}</h3>\n      <el-form ref=\"goods\" :rules=\"rules\" :model=\"goods\" label-width=\"150px\">\n        <el-form-item :label=\"$t('goods_edit.form.id')\" prop=\"id\">\n          <el-input v-model=\"goods.id\" disabled />\n        </el-form-item>\n        <el-form-item :label=\"$t('goods_edit.form.name')\" prop=\"name\">\n          <el-input v-model=\"goods.name\" />\n        </el-form-item>\n        <el-form-item :label=\"$t('goods_edit.form.goods_sn')\" prop=\"goodsSn\">\n          <el-input v-model=\"goods.goodsSn\" />\n        </el-form-item>\n        <el-form-item :label=\"$t('goods_edit.form.counter_price')\" prop=\"counterPrice\">\n          <el-input v-model=\"goods.counterPrice\" placeholder=\"0.00\">\n            <template slot=\"append\">元</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('goods_edit.form.is_new')\" prop=\"isNew\">\n          <el-radio-group v-model=\"goods.isNew\">\n            <el-radio :label=\"true\">{{ $t('goods_edit.value.is_new_true') }}</el-radio>\n            <el-radio :label=\"false\">{{ $t('goods_edit.value.is_new_false') }}</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item :label=\"$t('goods_edit.form.is_hot')\" prop=\"isHot\">\n          <el-radio-group v-model=\"goods.isHot\">\n            <el-radio :label=\"false\">{{ $t('goods_edit.value.is_hot_false') }}</el-radio>\n            <el-radio :label=\"true\">{{ $t('goods_edit.value.is_hot_true') }}</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item :label=\"$t('goods_edit.form.is_on_sale')\" prop=\"isOnSale\">\n          <el-radio-group v-model=\"goods.isOnSale\">\n            <el-radio :label=\"true\">{{ $t('goods_edit.value.is_on_sale_true') }}</el-radio>\n            <el-radio :label=\"false\">{{ $t('goods_edit.value.is_on_sale_false') }}</el-radio>\n          </el-radio-group>\n        </el-form-item>\n\n        <el-form-item :label=\"$t('goods_edit.form.pic_url')\">\n          <el-upload\n            :headers=\"headers\"\n            :action=\"uploadPath\"\n            :show-file-list=\"false\"\n            :on-success=\"uploadPicUrl\"\n            class=\"avatar-uploader\"\n            accept=\".jpg,.jpeg,.png,.gif\"\n          >\n            <img v-if=\"goods.picUrl\" :src=\"goods.picUrl\" class=\"avatar\">\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n          </el-upload>\n        </el-form-item>\n\n        <el-form-item :label=\"$t('goods_edit.form.gallery')\">\n          <el-upload\n            :action=\"uploadPath\"\n            :headers=\"headers\"\n            :limit=\"5\"\n            :file-list=\"galleryFileList\"\n            :on-exceed=\"uploadOverrun\"\n            :on-success=\"handleGalleryUrl\"\n            :on-remove=\"handleRemove\"\n            multiple\n            accept=\".jpg,.jpeg,.png,.gif\"\n            list-type=\"picture-card\"\n          >\n            <i class=\"el-icon-plus\" />\n          </el-upload>\n        </el-form-item>\n\n        <el-form-item :label=\"$t('goods_edit.form.unit')\">\n          <el-input v-model=\"goods.unit\" :placeholder=\"$t('goods_edit.placeholder.unit')\" />\n        </el-form-item>\n\n        <el-form-item :label=\"$t('goods_edit.form.keywords')\">\n          <el-tag v-for=\"tag in keywords\" :key=\"tag\" closable type=\"primary\" @close=\"handleClose(tag)\">\n            {{ tag }}\n          </el-tag>\n          <el-input v-if=\"newKeywordVisible\" ref=\"newKeywordInput\" v-model=\"newKeyword\" class=\"input-new-keyword\" @keyup.enter.native=\"handleInputConfirm\" @blur=\"handleInputConfirm\" />\n          <el-button v-else class=\"button-new-keyword\" type=\"primary\" @click=\"showInput\">{{ $t('app.button.add') }}</el-button>\n        </el-form-item>\n\n        <el-form-item :label=\"$t('goods_edit.form.category_id')\">\n          <el-cascader v-model=\"categoryIds\" :options=\"categoryList\" clearable expand-trigger=\"hover\" @change=\"handleCategoryChange\" />\n        </el-form-item>\n\n        <el-form-item :label=\"$t('goods_edit.form.brand_id')\">\n          <el-select v-model=\"goods.brandId\" clearable>\n            <el-option v-for=\"item in brandList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item :label=\"$t('goods_edit.form.brief')\">\n          <el-input v-model=\"goods.brief\" />\n        </el-form-item>\n\n        <el-form-item :label=\"$t('goods_edit.form.detail')\">\n          <editor v-model=\"goods.detail\" :init=\"editorInit\" />\n        </el-form-item>\n      </el-form>\n    </el-card>\n\n    <el-card class=\"box-card\">\n      <h3>{{ $t('goods_edit.section.specifications') }}</h3>\n      <el-table :data=\"specifications\">\n        <el-table-column property=\"specification\" :label=\"$t('goods_edit.table.specification_name')\" />\n        <el-table-column property=\"value\" :label=\"$t('goods_edit.table.specification_value')\">\n          <template slot-scope=\"scope\">\n            <el-tag type=\"primary\">\n              {{ scope.row.value }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column property=\"picUrl\" :label=\"$t('goods_edit.table.specification_pic_url')\">\n          <template slot-scope=\"scope\">\n            <img v-if=\"scope.row.picUrl\" :src=\"scope.row.picUrl\" width=\"40\">\n          </template>\n        </el-table-column>\n        <el-table-column align=\"center\" :label=\"$t('goods_edit.table.specification_actions')\" width=\"200\" class-name=\"small-padding fixed-width\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"primary\" size=\"mini\" @click=\"handleSpecificationShow(scope.row)\">{{ $t('app.button.settings') }}</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-dialog :visible.sync=\"specVisiable\" :title=\"$t('goods_edit.dialog.edit_specification')\">\n        <el-form ref=\"specForm\" :rules=\"rules\" :model=\"specForm\" status-icon label-position=\"left\" label-width=\"100px\" style=\"width: 400px; margin-left:50px;\">\n          <el-form-item :label=\"$t('goods_edit.form.specification_name')\" prop=\"specification\">\n            <el-input v-model=\"specForm.specification\" disabled />\n          </el-form-item>\n          <el-form-item :label=\"$t('goods_edit.form.specification_value')\" prop=\"value\">\n            <el-input v-model=\"specForm.value\" disabled />\n          </el-form-item>\n          <el-form-item :label=\"$t('goods_edit.form.specification_pic_url')\" prop=\"picUrl\">\n            <el-upload\n              :headers=\"headers\"\n              :action=\"uploadPath\"\n              :show-file-list=\"false\"\n              :on-success=\"uploadSpecPicUrl\"\n              class=\"avatar-uploader\"\n              accept=\".jpg,.jpeg,.png,.gif\"\n            >\n              <img v-if=\"specForm.picUrl\" :src=\"specForm.picUrl\" class=\"avatar\">\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n            </el-upload>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"specVisiable = false\">{{ $t('app.button.cancel') }}</el-button>\n          <el-button type=\"primary\" @click=\"handleSpecificationEdit\">{{ $t('app.button.confirm') }}</el-button>\n        </div>\n      </el-dialog>\n    </el-card>\n\n    <el-card class=\"box-card\">\n      <h3>{{ $t('goods_edit.section.products') }}</h3>\n      <el-table :data=\"products\">\n        <el-table-column property=\"value\" :label=\"$t('goods_edit.table.product_specifications')\">\n          <template slot-scope=\"scope\">\n            <el-tag v-for=\"tag in scope.row.specifications\" :key=\"tag\">\n              {{ tag }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column property=\"price\" :label=\"$t('goods_edit.table.product_price')\" />\n        <el-table-column property=\"number\" :label=\"$t('goods_edit.table.product_number')\" />\n        <el-table-column property=\"url\" :label=\"$t('goods_edit.table.product_url')\">\n          <template slot-scope=\"scope\">\n            <img v-if=\"scope.row.url\" :src=\"scope.row.url\" width=\"40\">\n          </template>\n        </el-table-column>\n        <el-table-column align=\"center\" :label=\"$t('goods_edit.table.product_actions')\" width=\"200\" class-name=\"small-padding fixed-width\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"primary\" size=\"mini\" @click=\"handleProductShow(scope.row)\">{{ $t('app.button.settings') }}</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-dialog :visible.sync=\"productVisiable\" :title=\"$t('goods_edit.dialog.edit_product')\">\n        <el-form ref=\"productForm\" :model=\"productForm\" status-icon label-position=\"left\" label-width=\"100px\" style=\"width: 400px; margin-left:50px;\">\n          <el-form-item :label=\"$t('goods_edit.form.product_specifications')\" prop=\"specifications\">\n            <el-tag v-for=\"tag in productForm.specifications\" :key=\"tag\">\n              {{ tag }}\n            </el-tag>\n          </el-form-item>\n          <el-form-item :label=\"$t('goods_edit.form.product_price')\" prop=\"price\">\n            <el-input v-model=\"productForm.price\" />\n          </el-form-item>\n          <el-form-item :label=\"$t('goods_edit.form.product_number')\" prop=\"number\">\n            <el-input v-model=\"productForm.number\" />\n          </el-form-item>\n          <el-form-item :label=\"$t('goods_edit.form.product_url')\" prop=\"url\">\n            <el-upload\n              :headers=\"headers\"\n              :action=\"uploadPath\"\n              :show-file-list=\"false\"\n              :on-success=\"uploadProductUrl\"\n              class=\"avatar-uploader\"\n              accept=\".jpg,.jpeg,.png,.gif\"\n            >\n              <img v-if=\"productForm.url\" :src=\"productForm.url\" class=\"avatar\">\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n            </el-upload>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"productVisiable = false\">{{ $t('app.button.cancel') }}</el-button>\n          <el-button type=\"primary\" @click=\"handleProductEdit\">{{ $t('app.button.confirm') }}</el-button>\n        </div>\n      </el-dialog>\n    </el-card>\n\n    <el-card class=\"box-card\">\n      <h3>{{ $t('goods_edit.section.attributes') }}</h3>\n      <el-button type=\"primary\" @click=\"handleAttributeShow\">{{ $t('app.button.create') }}</el-button>\n      <el-table :data=\"attributesData\">\n        <el-table-column property=\"attribute\" :label=\"$t('goods_edit.table.attribute_name')\" />\n        <el-table-column property=\"value\" :label=\"$t('goods_edit.table.attribute_value')\" />\n        <el-table-column align=\"center\" :label=\"$t('goods_edit.table.attribute_actions')\" width=\"200\" class-name=\"small-padding fixed-width\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"primary\" size=\"mini\" @click=\"handleAttributeShow(scope.row)\">{{ $t('app.button.settings') }}</el-button>\n            <el-button type=\"danger\" size=\"mini\" @click=\"handleAttributeDelete(scope.row)\">{{ $t('app.button.delete') }}</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-dialog :visible.sync=\"attributeVisiable\" :title=\"$t(attributeAdd ? 'goods_edit.dialog.edit_attribute_add' : 'goods_edit.dialog.edit_attribute_edit')\">\n        <el-form ref=\"attributeForm\" :model=\"attributeForm\" status-icon label-position=\"left\" label-width=\"100px\" style=\"width: 400px; margin-left:50px;\">\n          <el-form-item :label=\"$t('goods_edit.form.attribute_name')\" prop=\"attribute\">\n            <el-input v-model=\"attributeForm.attribute\" />\n          </el-form-item>\n          <el-form-item :label=\"$t('goods_edit.form.attribute_value')\" prop=\"value\">\n            <el-input v-model=\"attributeForm.value\" />\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"attributeVisiable = false\">{{ $t('app.button.cancel') }}</el-button>\n          <el-button v-if=\"attributeAdd\" type=\"primary\" @click=\"handleAttributeAdd\">{{ $t('app.button.confirm') }}</el-button>\n          <el-button v-else type=\"primary\" @click=\"handleAttributeEdit\">{{ $t('app.button.confirm') }}</el-button>\n        </div>\n      </el-dialog>\n    </el-card>\n\n    <div class=\"op-container\">\n      <el-button @click=\"handleCancel\">{{ $t('app.button.cancel') }}</el-button>\n      <el-button type=\"primary\" @click=\"handleEdit\">{{ $t('goods_edit.button.edit') }}</el-button>\n    </div>\n\n  </div>\n</template>\n\n<style>\n.el-card {\n  margin-bottom: 10px;\n}\n.el-tag + .el-tag {\n  margin-left: 10px;\n}\n.input-new-keyword {\n  width: 90px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #20a0ff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 120px;\n  height: 120px;\n  line-height: 120px;\n  text-align: center;\n}\n.avatar {\n  width: 145px;\n  height: 145px;\n  display: block;\n}\n.op-container {\n  display: flex;\n  justify-content: center;\n}\n</style>\n\n<script>\nimport { detailGoods, editGoods, listCatAndBrand } from '@/api/goods'\nimport { createStorage, uploadPath } from '@/api/storage'\nimport Editor from '@tinymce/tinymce-vue'\nimport { MessageBox } from 'element-ui'\nimport { getToken } from '@/utils/auth'\n\nexport default {\n  name: 'GoodsEdit',\n  components: { Editor },\n  data() {\n    return {\n      uploadPath,\n      newKeywordVisible: false,\n      newKeyword: '',\n      keywords: [],\n      galleryFileList: [],\n      categoryList: [],\n      brandList: [],\n      categoryIds: [],\n      goods: { gallery: [] },\n      specVisiable: false,\n      specForm: { specification: '', value: '', picUrl: '' },\n      specifications: [{ specification: '规格', value: '标准', picUrl: '' }],\n      productVisiable: false,\n      productForm: {\n        id: 0,\n        specifications: [],\n        price: 0.0,\n        number: 0,\n        url: ''\n      },\n      products: [\n        { id: 0, specifications: ['标准'], price: 0.0, number: 0, url: '' }\n      ],\n      attributeVisiable: false,\n      attributeAdd: true,\n      attributeForm: { attribute: '', value: '' },\n      attributes: [],\n      rules: {\n        name: [{ required: true, message: '商品名称不能为空', trigger: 'blur' }]\n      },\n      editorInit: {\n        language: 'zh_CN',\n        height: '400px',\n        convert_urls: false,\n        plugins: [\n          'advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount'\n        ],\n        toolbar: [\n          'searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample',\n          'hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen'\n        ],\n        images_upload_handler: function(blobInfo, success, failure) {\n          const formData = new FormData()\n          formData.append('file', blobInfo.blob())\n          createStorage(formData)\n            .then(res => {\n              success(res.data.data.url)\n            })\n            .catch(() => {\n              failure('上传失败，请重新上传')\n            })\n        }\n      }\n    }\n  },\n  computed: {\n    headers() {\n      return {\n        'X-Litemall-Admin-Token': getToken()\n      }\n    },\n    attributesData() {\n      var attributesData = []\n      for (var i = 0; i < this.attributes.length; i++) {\n        if (this.attributes[i].deleted) {\n          continue\n        }\n        attributesData.push(this.attributes[i])\n      }\n      return attributesData\n    }\n  },\n  created() {\n    this.init()\n  },\n  methods: {\n    init: function() {\n      if (this.$route.query.id == null) {\n        return\n      }\n\n      const goodsId = this.$route.query.id\n      detailGoods(goodsId).then(response => {\n        this.goods = response.data.data.goods\n        // 稍微调整一下前后端不一致\n        if (this.goods.brandId === 0) {\n          this.goods.brandId = null\n        }\n        if (this.goods.keywords === '') {\n          this.goods.keywords = null\n        }\n        this.specifications = response.data.data.specifications\n        this.products = response.data.data.products\n        this.attributes = response.data.data.attributes\n        this.categoryIds = response.data.data.categoryIds\n\n        this.galleryFileList = []\n        for (var i = 0; i < this.goods.gallery.length; i++) {\n          this.galleryFileList.push({\n            url: this.goods.gallery[i]\n          })\n        }\n        const keywords = response.data.data.goods.keywords\n        if (keywords !== null) {\n          this.keywords = keywords.split(',')\n        }\n      })\n\n      listCatAndBrand().then(response => {\n        this.categoryList = response.data.data.categoryList\n        this.brandList = response.data.data.brandList\n      })\n    },\n    handleCategoryChange(value) {\n      this.goods.categoryId = value[value.length - 1]\n    },\n    handleCancel: function() {\n      this.$store.dispatch('tagsView/delView', this.$route)\n      this.$router.push({ path: '/goods/list' })\n    },\n    handleEdit: function() {\n      const finalGoods = {\n        goods: this.goods,\n        specifications: this.specifications,\n        products: this.products,\n        attributes: this.attributes\n      }\n      editGoods(finalGoods)\n        .then(response => {\n          this.$notify.success({\n            title: '成功',\n            message: '编辑成功'\n          })\n          this.$store.dispatch('tagsView/delView', this.$route)\n          this.$router.push({ path: '/goods/list' })\n        })\n        .catch(response => {\n          MessageBox.alert('业务错误：' + response.data.errmsg, '警告', {\n            confirmButtonText: '确定',\n            type: 'error'\n          })\n        })\n    },\n    handleClose(tag) {\n      this.keywords.splice(this.keywords.indexOf(tag), 1)\n      this.goods.keywords = this.keywords.toString()\n    },\n    showInput() {\n      this.newKeywordVisible = true\n      this.$nextTick(_ => {\n        this.$refs.newKeywordInput.$refs.input.focus()\n      })\n    },\n    handleInputConfirm() {\n      const newKeyword = this.newKeyword\n      if (newKeyword) {\n        this.keywords.push(newKeyword)\n        this.goods.keywords = this.keywords.toString()\n      }\n      this.newKeywordVisible = false\n      this.newKeyword = ''\n    },\n    uploadPicUrl: function(response) {\n      this.goods.picUrl = response.data.url\n    },\n    uploadOverrun: function() {\n      this.$message({\n        type: 'error',\n        message: '上传文件个数超出限制!最多上传5张图片!'\n      })\n    },\n    handleGalleryUrl(response, file, fileList) {\n      if (response.errno === 0) {\n        this.goods.gallery.push(response.data.url)\n      }\n    },\n    handleRemove: function(file, fileList) {\n      for (var i = 0; i < this.goods.gallery.length; i++) {\n        // 这里存在两种情况\n        // 1. 如果所删除图片是刚刚上传的图片，那么图片地址是file.response.data.url\n        //    此时的file.url虽然存在，但是是本机地址，而不是远程地址。\n        // 2. 如果所删除图片是后台返回的已有图片，那么图片地址是file.url\n        var url\n        if (file.response === undefined) {\n          url = file.url\n        } else {\n          url = file.response.data.url\n        }\n\n        if (this.goods.gallery[i] === url) {\n          this.goods.gallery.splice(i, 1)\n        }\n      }\n    },\n    specChanged: function(label) {\n      if (label === false) {\n        this.specifications = [\n          { specification: '规格', value: '标准', picUrl: '' }\n        ]\n        this.products = [\n          { id: 0, specifications: ['标准'], price: 0.0, number: 0, url: '' }\n        ]\n      } else {\n        this.specifications = []\n        this.products = []\n      }\n    },\n    uploadSpecPicUrl: function(response) {\n      this.specForm.picUrl = response.data.url\n    },\n    handleSpecificationShow(row) {\n      this.specForm = Object.assign({}, row)\n      this.specVisiable = true\n    },\n    handleSpecificationEdit() {\n      this.specForm.updateTime = ''\n      for (var i = 0; i < this.specifications.length; i++) {\n        const v = this.specifications[i]\n        if (v.id === this.specForm.id) {\n          this.specifications.splice(i, 1, this.specForm)\n          break\n        }\n      }\n      this.specVisiable = false\n    },\n    handleProductShow(row) {\n      this.productForm = Object.assign({}, row)\n      this.productVisiable = true\n    },\n    uploadProductUrl: function(response) {\n      this.productForm.url = response.data.url\n    },\n    handleProductEdit() {\n      this.productForm.updateTime = ''\n      for (var i = 0; i < this.products.length; i++) {\n        const v = this.products[i]\n        if (v.id === this.productForm.id) {\n          this.products.splice(i, 1, this.productForm)\n          break\n        }\n      }\n      this.productVisiable = false\n    },\n    handleAttributeShow(row) {\n      if (row.id) {\n        this.attributeForm = Object.assign({}, row)\n        this.attributeAdd = false\n      } else {\n        this.attributeForm = {}\n        this.attributeAdd = true\n      }\n      this.attributeVisiable = true\n    },\n    handleAttributeAdd() {\n      this.attributes.unshift(this.attributeForm)\n      this.attributeVisiable = false\n    },\n    handleAttributeEdit() {\n      // 这是一个trick，设置updateTime的值为空，告诉后端这个记录已编辑需要更新。\n      this.attributeForm.updateTime = ''\n      for (var i = 0; i < this.attributes.length; i++) {\n        const v = this.attributes[i]\n        if (v.id === this.attributeForm.id) {\n          this.attributes.splice(i, 1, this.attributeForm)\n          break\n        }\n      }\n      this.attributeVisiable = false\n    },\n    handleAttributeDelete(row) {\n      row.deleted = true\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/goods"}]}